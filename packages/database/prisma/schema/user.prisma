model User {
  id        String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  createdAt DateTime @default(now()) @map("created_at")

  email          String  @unique
  name           String?
  hashedPassword String  @map("hashed_password")

  accessRole AccessRole @map("access_role")

  sessions Session[]
  recipes  Recipe[]
  images   Image[]

  @@map("users")
}

model Session {
  id        String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  expiresAt DateTime @map("expires_at")

  userId String @map("user_id") @db.Uuid
  user   User   @relation(references: [id], fields: [userId], onDelete: Cascade)

  @@map("sessions")
}

enum AccessRole {
  user
  admin
}
