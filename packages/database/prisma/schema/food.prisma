/// The most basic building block. Foods can include spices, meats, vegetables, etc.
model Food {
  id        String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  createdAt DateTime @default(now()) @map("created_at")

  name       String
  pluralName String?  @map("plural_name")
  /// The density of the ingredient in kilograms / cubic meter
  density    Decimal?

  substitutions  Substitution[] @relation("FromFood")
  substitutedFor Substitution[] @relation("ToFood")
  ingredients    Ingredient[]

  @@map("foods")
}

model Substitution {
  id        String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  createdAt DateTime @default(now()) @map("created_at")

  fromFood   Food   @relation("FromFood", fields: [fromFoodId], references: [id])
  fromFoodId String @map("from_food_id") @db.Uuid

  toFood   Food   @relation("ToFood", fields: [toFoodId], references: [id])
  toFoodId String @db.Uuid

  notes String?

  @@map("substitutions")
}
